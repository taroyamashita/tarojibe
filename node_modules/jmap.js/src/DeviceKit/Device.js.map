{"version":3,"sources":["../src/Device.js"],"names":["Device","fallback","mapId","waypointIds","Array","isArray","_","locations","get","_getLocation","global","jmap","core","BaseModel","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAGMA,M;;;;;;;;;;;qCAMW;AACb,YAAMC,WAAW,EAAEC,OAAO,IAAT,EAAeC,aAAa,EAA5B,EAAjB;AACA,eAAOC,MAAMC,OAAN,CAAc,KAAKC,CAAL,CAAOC,SAArB,IAAmC,KAAKD,CAAL,CAAOC,SAAP,CAAiB,CAAjB,KAAuBN,QAA1D,GAAsEA,QAA7E;AACD;;;0BAIa;AACZ,eAAO,KAAKO,GAAL,CAAS,SAAT,EAAoB,IAApB,CAAP;AACD;;;0BAKU;AACT,eAAO,KAAKA,GAAL,CAAS,MAAT,EAAiB,IAAjB,CAAP;AACD;;;0BAKgB;AACf,eAAO,KAAKC,YAAL,GAAoBN,WAApB,CAAgC,CAAhC,KAAsC,IAA7C;AACD;;;0BAKW;AACV,eAAO,KAAKM,YAAL,GAAoBP,KAApB,IAA6B,IAApC;AACD;;;;IApCkBQ,OAAOC,IAAP,CAAYC,IAAZ,CAAiBC,S;;AAwCtCC,SAAOC,OAAP,GAAiBf,MAAjB","file":"Device.js","sourcesContent":["/**\n* @desc Class representing a Device.\n*/\nclass Device extends global.jmap.core.BaseModel {\n  /**\n   * Create a Device.\n   * @param {object} model - The model object passed back from the /full payload\n   */\n\n  _getLocation() {\n    const fallback = { mapId: null, waypointIds: [] }\n    return Array.isArray(this._.locations) ? (this._.locations[0] || fallback) : fallback\n  }\n  /**\n   * @member {Number} Device#heading\n   */\n  get heading() {\n    return this.get('heading', null)\n  }\n\n  /**\n   * @member {String} Device#name\n   */\n  get name() {\n    return this.get('name', null)\n  }\n\n  /**\n   * @member {Number} Device#waypointId\n   */\n  get waypointId() {\n    return this._getLocation().waypointIds[0] || null\n  }\n\n  /**\n   * @member {Number} Device#mapId\n   */\n  get mapId() {\n    return this._getLocation().mapId || null\n  }\n\n}\n\nmodule.exports = Device\n"]}